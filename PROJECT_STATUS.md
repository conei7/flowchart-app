# プロジェクトステータス - Flowchart Builder

## 📌 現在のバージョン: v1.2.1

## 🎯 プロジェクト概要

ReactとReactFlowを使用したモダンなフローチャート作成アプリケーション。ドラッグ＆ドロップでノードを配置し、視覚的にフローチャートを作成できます。

## ✅ 実装済み機能

### コア機能
- [x] ドラッグ＆ドロップでノード配置
- [x] 4種類のノード（開始、終了、処理、分岐）
- [x] ノード間の接続（方向付き矢印）
- [x] ダブルクリックでラベル編集
- [x] 全ノードのリサイズ対応
- [x] 自動レイアウト機能
- [x] キーボードショートカット（Ctrl+S/E/A/Z/Y/D, Escape）
- [x] Undo/Redo機能
- [x] ノード複製機能（Ctrl+D）
- [x] ショートカットヘルプ（?キー）
- [x] ノードの詳細設定（右側インスペクター、カスタムカラー、説明文）

### ファイル操作
- [x] プロジェクト保存（.fchart形式）
- [x] プロジェクト読み込み
- [x] PNG画像エクスポート（全体表示）
- [x] テキストエクスポート
- [x] Mermaidコピー

### ユーザー体験
- [x] 自動保存（localStorage）
- [x] ページリロード時の復元
- [x] 未保存時の警告表示
- [x] 折りたたみ式Controlsパネル
- [x] ダークテーマ（グラスモーフィズム）
- [x] UI言語英語統一

## 🏗️ アーキテクチャ

### ファイル構成
```
src/
├── components/
│   ├── FlowchartBuilder.tsx    # メインコンポーネント
│   ├── FlowchartBuilder.css    # スタイル
│   ├── Sidebar.tsx             # ノード選択サイドバー
│   └── nodes/
│       └── CustomNodes.tsx     # カスタムノード定義
├── utils/
│   └── export.ts               # エクスポート機能
└── App.tsx                     # ルートコンポーネント
```

### 技術スタック
| 技術 | 用途 |
|------|------|
| React | UIフレームワーク |
| TypeScript | 型安全性 |
| ReactFlow | フローチャートライブラリ |
| Vite | ビルドツール |
| Lucide React | アイコン |
| html-to-image | PNG出力 |

## 📋 バージョン履歴

| バージョン | 変更内容 |
|-----------|---------|
| v1.2.1 | UI言語英語統一、キーボードショートカットヘルプ表示改善（Ctrl+Y追加） |
| v1.2.0 | ノードの詳細設定機能（Unity風右側インスペクター、カスタムカラー、説明文） |
| v1.1.12 | キーボードショートカットヘルプモーダル追加（?キーで表示） |
| v1.1.11 | ノード複製機能追加（Ctrl+Dで選択ノードを複製） |
| v1.1.10 | Undo/Redo機能追加（Ctrl+Z/Ctrl+Shift+Z、履歴管理） |
| v1.1.9 | キーボードショートカット機能追加（Ctrl+S/E/A, Escape） |
| v1.1.8 | ノード・エッジ選択時のパルスアニメーション・グローエフェクト追加 |
| v1.1.7 | PNG保存後のビューポジション復元機能追加 |
| v1.1.6 | TypeScript型エラー修正（nodes/edges型定義改善）、未使用変数reactFlowBounds削除 |
| v1.1.5 | Start/Endノードのテキスト編集・リサイズ対応、Auto Layoutをサイドバーに移動、ハンドルサイズ・色統一 |
| v1.1.4 | Controlsパネル折りたたみ機能（ドロップダウンアニメーション） |
| v1.1.3 | localStorage自動保存、未保存警告 |
| v1.1.2 | UI整理、Auto Layoutを左下に移動 |
| v1.1.1 | アイコン改善、Text/Mermaidエクスポート復活 |
| v1.1.0 | プロジェクト保存/読み込み機能（.fchart形式） |
| v1.0.8 | 全体表示PNG出力 |
| v1.0.0 | 初回リリース |

## 🐛 既知の問題・修正予定

### バグ修正（優先度高）
- [ ] サイドバー折りたたみ時のAuto Layoutボタンが上部にある → 下部に配置
- [ ] インスペクターが上部リボン（ヘッダー）を無視して開く → ヘッダー高さを考慮
- [ ] インスペクター展開時にControlsパネルが隠れる → ミニマップと同様に左にずらす
- [ ] 初回ドラッグ＆ドロップ時の位置ずれ修正

### UI/UX改善
- [ ] ヘッダー（リボン）のサイズを小さくする
- [ ] ヘッダーのタイトル・サブタイトルを左寄せにする

## 🔜 今後の予定

### 機能追加
- [x] ~~ノードの詳細設定（カスタムカラー、説明文など）~~ ✅ v1.2.0で実装
- [x] ~~Undo/Redo機能~~ ✅ v1.1.10で実装
- [x] ~~キーボードショートカット~~ ✅ v1.1.9で実装
- [ ] ダークモード/ライトモード切替ボタン（右上）
- [ ] インスペクターのカラーピッカー改善（RGBカラーホイール、カスタムカラー保存）
- [ ] 追加ノード形状（六角形：繰り返し、その他フローチャート図形）
- [ ] ノードのグループ化機能
- [ ] テンプレート機能

### UI/UX改善
- [x] ~~ノード・エッジ選択時のアニメーション改善~~ ✅ v1.1.8で改善
- [x] ~~PNG保存時にビュー位置が移動しないように修正~~ ✅ v1.1.7で修正

## 🔗 リポジトリ

**GitHub**: https://github.com/conei7/flowchart-app

## 📅 最終更新

2025年12月7日
